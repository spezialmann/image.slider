<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="de">
<!--[if IE]>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<![endif]-->
<meta charset="utf-8">
<title>Bootstrap Image Gallery</title>
<meta name="description" content="Image Gallery">
<meta name="viewport"content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, minimal-ui" />
<link rel="stylesheet" href="css/blueimp-gallery.css">
<link rel="stylesheet" href="css/blueimp-gallery-indicator.css">
</head>
<body bgcolor="black">
	<div id="blueimp-gallery" class="blueimp-gallery blueimp-gallery-controls">
		<div class="slides"></div>
		<h3 class="title"></h3>
		<a class="prev">‹</a> <a class="next">›</a> <a class="close">×</a> <a
			class="play-pause"></a>
		<ol class="indicator"></ol>
	</div>

	<div class="links" id="links">
		<a th:each="img : ${images}" th:href="|/download?id=${img.fileName}|"
				href="/download?id=f933e96a-669a-417a-ab59-a16ddb266bca"
				data-gallery> <img
				th:src="|/download?id=${img.fileName}|" alt="" width="150"></a>
	</div>

	<script src="js/blueimp-helper.js"></script>
	<script src="js/blueimp-gallery.js"></script>
	<script	src="js/blueimp-gallery-fullscreen.js"></script>
	<script	src="js/blueimp-gallery-indicator.js"></script>
	<script	src="js/jquery.min.js"></script>

	<script th:inline="javascript">
		/*<![CDATA[*/
		           
		var listSize = /*[[${listSize}]]*/ 'List Size';
		var i = 0;
		$(document)
				.ready(
						function() {
							blueimp
									.Gallery(
											document.getElementById('links')
													.getElementsByTagName('a'),
											{
												container : '#blueimp-gallery',
												carousel : true,
												onslide : function(index, slide) {
													i++;
													if (i > listSize) {
														console.log("!!!! Ende der Show - RELOAD !!!!");
														i=0;
														location.reload();
													}
												}
											});
						});
		/*]]>*/
	</script>

</body>
</html>
